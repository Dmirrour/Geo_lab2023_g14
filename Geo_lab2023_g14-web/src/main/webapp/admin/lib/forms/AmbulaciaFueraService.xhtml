<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
   <link rel="stylesheet" href="https://unpkg.com/primeflex@^3/primeflex.css"/>
</h:head>
<p:dialog id="ambuOut" header="Ambulancias Fuera de rango" widgetVar="dlg9" width="600px" minWidth="400" minHeight="400" draggable="false" styleClass="my-dialog-style" showEffect="fade">
   <f:view>
       <h:form id="formPA" name="formPA">
           <p:card styleClass="flex justify-content-center">
               <h:outputText value="Las siguientes ambulancias se quedarán sin servicio, aumente el buffer de éstas o elimínelas" />
               <p:dataTable value="#{servicioEBean.ambuPejudicadas}"
                            id="tableAO"
                            var="ambu"
                            scrollable="true"
                            scrollHeight="400px">
                   <p:column headerText="Id Ambulancia">
                       <h:outputText value="#{ambu.idAmbulancia}" />
                   </p:column>
                   <p:column headerText="Codigo Ambulancia">
                       <h:outputText value="#{ambu.idCodigo}" />
                   </p:column>
                   <p:column headerText="Distancia Maxima">
                       <h:outputText value="#{ambu.distanciaMaxDesvio}" />
                   </p:column>
                   <p:column headerText="Hospital Name">
                       <h:outputText value="#{ambu.hospital.nombreHospital}" />
                   </p:column>
                   <p:column headerText="false">
                       <p:commandButton styleClass="rounded-button ui-button-danger" icon="pi pi-trash" process="@this" action="#{adminBean.eliminarA(ambu.idAmbulancia)}" update="tableAO" />
                   </p:column>
               </p:dataTable>
               <div class="col-12 py-2">
                   <h:outputLabel for="desvio" class="col-12 col-md-6">Maximo desvio:</h:outputLabel>
                   <h:inputText id="desvio" type="number" value="#{adminBean.desvio}" class="col-12 col-md-6"/>
               </div>

               <div class="d-grid col-12 mx-auto pt-2">
                   <p:commandButton value="Crear" action="#{adminBean.modBuffer()}" update="messages" styleClass="ui-button-raised ui-button-success ui-button-flat" class="col-md-6" onclick="PF('dlg9').hide()" />
               </div>
           </p:card>
       </h:form>
   </f:view>
</p:dialog>
</html>
